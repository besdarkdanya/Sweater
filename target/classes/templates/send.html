<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Send a post</title>
    <link rel="stylesheet" href="../static/css/normalize.css">
    <link rel="stylesheet" href="../static/css/parts/style_header.css">
    <link rel="stylesheet" href="../static/css/style_send.css">
</head>
<body class="body">
<header class="header">
    <div class="logo">
        <img src="../static/img/rr.png" alt="" height="70px" width="70px">
        <h2 class="logo-text">Sweater</h2>
    </div>
    <ul class="navigation-list">
        <li class="navigation-item">
            <a class="navigation-link" href="/">Main</a>
        </li>
        <li class="navigation-item">
            <a class="navigation-link" href="/send-message">Send news</a>
        </li>
        <li class="navigation-item">
            <a class="navigation-link" th:href="@{/user-messages/{user} (user = ${currentUserId})}">My messages</a>
        </li>
        <li class="navigation-item">
            <a class="navigation-link" href="/profile">Profile</a>
        </li>
        <li th:if="${#authentication.name == 'admin'}"  class="navigation-item">
            <a class="navigation-link" href="/admin-panel">Admin Panel</a>
        </li>
    </ul>
    <img  class="avatar-picture" th:src="@{/img/{filename}(filename = ${avatar})}" width="70px" height="70px" >
    <p  class="user-in" th:inline="text">Welcome home, [[${#httpServletRequest.remoteUser}]]!</p>
    <form th:action="@{/logout}" method="post">
        <input class="logout" type="submit" value="Log out"/>
    </form>
</header>
<section>
    <div class="message-container">
        <form class="form" th:action="@{/send-message}" method="post" enctype="multipart/form-data">
            <label for="text"></label>
                <textarea id="text" type="text" name="text"  placeholder="What's new?" class="message-input"></textarea>
            <ul>
                <li th:each="error : ${validationErrors}" th:text="${error.getValue()}" class="error" />
            </ul>
            <label>
                <input type="file" name="file" class="file">
            </label>
            <button  class="submit-button" type="submit">Send post</button>
        </form>
    </div>
</section>
</body>
</html>