<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      lang="ru">
<head>
    <title>Sweater</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../static/css/normalize.css">
    <link rel="stylesheet" href="../static/css/parts/style_header.css">
    <link rel="stylesheet" href="../static/css/style_main.css">

</head>
<body class="body">
<header class="header">
    <div class="logo">
        <img src="../static/img/rr.png" alt="" height="70px" width="70px">
        <h2 class="logo-text">Sweater</h2>
    </div>
    <ul class="navigation-list">
        <li class="navigation-item">
            <a class="navigation-link" href="/">Main</a>
        </li>
        <li class="navigation-item">
            <a class="navigation-link" href="/send">Send news</a>
        </li>
        <li class="navigation-item">
            <a class="navigation-link" href="/profile">Profile</a>
        </li>
        <li th:if="${#authentication.name == 'admin'}"  class="navigation-item">
            <a class="navigation-link" href="/user ">Admin Panel</a>
        </li>
    </ul>
    <img  class="avatar-picture" th:src="@{/img/{filename}(filename = ${avatar})}" width="70px" height="70px" >
    <p  class="user-in" th:inline="text">Welcome home, [[${#httpServletRequest.remoteUser}]]!</p>
    <form th:action="@{/logout}" method="post">
        <input class="logout" type="submit" value="Log out"/>
    </form>
</header>
<main class="main">
    <div class="message-container">
        <div class="message-item" th:each="message : ${messages}">
            <img class="message-author-avatar" th:src="@{/img/{filename}(filename = ${message.getAuthor().getFilename()})}" width="50px" height="50px">
            <h4 class="message-author" th:text="${message.getAuthor()}"></h4>
            <p class="message-text" th:text="${message.getText}"></p>
            <div class="picture-container" th:if="${message.filename}">
                <img class="message-picture" th:src="@{/img/{filename}(filename = ${message.filename})}">
            </div>
        </div>
    </div>
</main>
</body>
</html>